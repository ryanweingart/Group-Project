<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Find Your Fit</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>
<body>
    <!-- navbar -->
    <nav class="navbar navbar-light bg-light">
        <a class="navbar-brand" href="#">Navbar</a>
    </nav>

    <!-- jumbotron -->
    <div class="jumbotron">
        <h1 class="display-4">Welcome</h1>
        <p class="lead">This jumbotron explsins our app.</p>
        <hr class="my-4">
        <p>It uses APIs to assist you in finding a school that might be a good fit for you</p>
        <a class="btn btn-primary btn-lg" href="#" role="button">Start</a>
    </div>
    
    <!-- main container -->
    <div class="container-wrap-wrap">

        <!-- interests -->
        <div id="interests">
            
            <!-- q1 -->
            <div class="dropdown">Which of the following is a subject area you enjoy (most enjoy)?
                <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Sub Area (dropdown not yet working)
                </button>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" value="agriculture">Agriculture</a>
                <a class="dropdown-item" value="architecture">Architecture</a>
                <a class="dropdown-item" value="biological">Biology</a>
                <a class="dropdown-item" value="business_marketing">Business Marketing</a>
                <a class="dropdown-item" value="communication">Communication</a>
                <a class="dropdown-item" value="communications_technology">communications Technology</a>
                <a class="dropdown-item" value="computer">Computer Science</a>
                <a class="dropdown-item" value="construction">Construction</a>
                <a class="dropdown-item" value="education">Education</a>
                <a class="dropdown-item" value="engineering">Engineering</a>
                <a class="dropdown-item" value="engineering_technology">Engineering Technology</a>
                <a class="dropdown-item" value="english">English</a>
                <a class="dropdown-item" value="ethnic_cultural_gender">Ethnic Studies</a>
                <a class="dropdown-item" value="family_consumer_science">Family Science</a>
                <a class="dropdown-item" value="health">Health</a>
                <a class="dropdown-item" value="history">History</a>
                <a class="dropdown-item" value="humanities">Humanities</a>
                <a class="dropdown-item" value="language">Language</a>
                <a class="dropdown-item" value="legal">Legal</a>
                <a class="dropdown-item" value="library">Library</a>
                <a class="dropdown-item" value="mathematics">Mathematics</a>
                <a class="dropdown-item" value="mechanic_repair_technology">Mechanic Repair Technology</a>
                <a class="dropdown-item" value="military">Military</a>
                <a class="dropdown-item" value="multidiscipline">Multidiscipline</a>
                <a class="dropdown-item" value="parks_recreation_fitness">Parks & Recreation & Fitness</a>
                <a class="dropdown-item" value="personal_culinary">Culinary</a>
                <a class="dropdown-item" value="philosophy_religious">Philosophy & Religion</a>
                <a class="dropdown-item" value="physical_science">Physical Science</a>
                <a class="dropdown-item" value="precision_production">Precision Production</a>
                <a class="dropdown-item" value="psychology">Psychology</a>
                <a class="dropdown-item" value="public_administration_social_service">Public Administration Social Service</a>
                <a class="dropdown-item" value="resources">Resources</a>
                <a class="dropdown-item" value="science_technology">Science Technology</a>
                <a class="dropdown-item" value="security_law_enforcement">Security & Law Enforcement</a>
                <a class="dropdown-item" value="social_science">Social Science</a>
                <a class="dropdown-item" value="theology_religious_vocation">Theology and Religious Vocation</a>
                <a class="dropdown-item" value="transportation">Transportation</a>
                <a class="dropdown-item" value="visual_performing">Visual Performing</a>
                </div>
            </div><!-- q1 end -->


            <!-- q2 -->
            <div class="questions" id="q2">On average, what is your level of proficiency in this subject area?
            <!-- q2buttons -->
            <div class="btn-group mr-2" role="group" aria-label="First group">
                <input type="radio" value=1 class="btn btn-secondary">1</input>
                <input type="radio" value=2 class="btn btn-secondary">2</input>
                <input type="radio" value=3 class="btn btn-secondary">3</input>
                <input type="radio" value=4 class="btn btn-secondary">4</input>
                <input type="radio" value=5 class="btn btn-secondary">5</input>
                <input type="radio" value=6 class="btn btn-secondary">6</input>
                <input type="radio" value=7 class="btn btn-secondary">7</input>
            </div>
            </div> <!-- q2 end -->

            <!-- q3 -->
            <div class="questions" id="q3">What is your average level of work enthusiasm (personal investment)?            
            <!-- q3buttons -->
            <div class="btn-group mr-2" role="group" aria-label="First group">
                <input type="radio" value=1 class="btn btn-secondary">1</input>
                <input type="radio" value=2 class="btn btn-secondary">2</input>
                <input type="radio" value=3 class="btn btn-secondary">3</input>
                <input type="radio" value=4 class="btn btn-secondary">4</input>
                <input type="radio" value=5 class="btn btn-secondary">5</input>
                <input type="radio" value=6 class="btn btn-secondary">6</input>
                <input type="radio" value=7 class="btn btn-secondary">7</input>
            </div>
            </div> <!-- q3 end -->

        </div><!-- interests end -->

        
        <!-- location -->
        <div id="location">
            <!-- q4 -->
            <div class= "zip-form">
                <form>Enter your zip code:
                </form>
            </div><!-- q4 end -->

            <!-- q5 -->
            <div class= "commute-form">
                <form>How far are you willing to commute?
                </form>
            </div><!-- q5 end -->

            <!-- q6 -->
            <div class="questions" id="q6">To what extent are you willing to relocate?
                    <!-- q6buttons -->
            <div class="btn-group mr-2" role="group" aria-label="First group">
                    <input type="radio" value=1 class="btn btn-secondary">1</input>
                    <input type="radio" value=2 class="btn btn-secondary">2</input>
                    <input type="radio" value=3 class="btn btn-secondary">3</input>
                    <input type="radio" value=4 class="btn btn-secondary">4</input>
                    <input type="radio" value=5 class="btn btn-secondary">5</input>
                    <input type="radio" value=6 class="btn btn-secondary">6</input>
                    <input type="radio" value=7 class="btn btn-secondary">7</input>
            </div>
            </div> <!-- q6 end -->
        </div><!-- location end -->
        
        <!-- money -->
        <div id="money">
            <!-- q7 -->
            <div id="q7">What is the average amount (in USD) that you are willing to pay in tuition per semester/anum?
            </div> <!-- q7 -->

            <!-- q8 -->
            <div class="questions" id="q8">To what extant is money of concern to you?
                    <!-- q8buttons -->
            <div class="btn-group mr-2" role="group" aria-label="First group">
                    <input type="radio" value=1 class="btn btn-secondary">1</input>
                    <input type="radio" value=2 class="btn btn-secondary">2</input>
                    <input type="radio" value=3 class="btn btn-secondary">3</input>
                    <input type="radio" value=4 class="btn btn-secondary">4</input>
                    <input type="radio" value=5 class="btn btn-secondary">5</input>
                    <input type="radio" value=6 class="btn btn-secondary">6</input>
                    <input type="radio" value=7 class="btn btn-secondary">7</input>
            </div>
            </div> <!-- q8 end -->

            <!-- q9 -->
            <div class="questions" id="q9">To what extent do you think money will be the deciding factor in when, whether and which school you attend?
                    <!-- q9buttons -->
            <div class="btn-group mr-2" role="group" aria-label="First group">
                    <input type="radio" value=1 class="btn btn-secondary">1</input>
                    <input type="radio" value=2 class="btn btn-secondary">2</input>
                    <input type="radio" value=3 class="btn btn-secondary">3</input>
                    <input type="radio" value=4 class="btn btn-secondary">4</input>
                    <input type="radio" value=5 class="btn btn-secondary">5</input>
                    <input type="radio" value=6 class="btn btn-secondary">6</input>
                    <input type="radio" value=7 class="btn btn-secondary">7</input>
            </div>
            </div> <!-- q9 end -->

            <!-- q10-->
            <div class="questions" id="q10">How concerned are you about being able to afford the cost of living while attending school?
                    <!-- q9buttons -->
            <div class="btn-group mr-2" role="group" aria-label="First group">
                    <input type="radio" value=1 class="btn btn-secondary">1</input>
                    <input type="radio" value=2 class="btn btn-secondary">2</input>
                    <input type="radio" value=3 class="btn btn-secondary">3</input>
                    <input type="radio" value=4 class="btn btn-secondary">4</input>
                    <input type="radio" value=5 class="btn btn-secondary">5</input>
                    <input type="radio" value=6 class="btn btn-secondary">6</input>
                    <input type="radio" value=7 class="btn btn-secondary">7</input>
            </div>
            </div> <!-- q10 end -->

            <!-- q11 -->
            <div class="questions" id="q11">How important is it that you have access to scholrships?
                    <!-- q11buttons -->
            <div class="btn-group mr-2" role="group" aria-label="First group">
                    <input type="radio" value=1 class="btn btn-secondary">1</input>
                    <input type="radio" value=2 class="btn btn-secondary">2</input>
                    <input type="radio" value=3 class="btn btn-secondary">3</input>
                    <input type="radio" value=4 class="btn btn-secondary">4</input>
                    <input type="radio" value=5 class="btn btn-secondary">5</input>
                    <input type="radio" value=6 class="btn btn-secondary">6</input>
                    <input type="radio" value=7 class="btn btn-secondary">7</input>
            </div>
            </div> <!-- q11 end -->

            <!-- q12 -->
            <div class="questions" id="q12">How important is it that you have access to student loans?
                    <!-- q12buttons -->
            <div class="btn-group mr-2" role="group" aria-label="First group">
                    <input type="radio" value=1 class="btn btn-secondary">1</input>
                    <input type="radio" value=2 class="btn btn-secondary">2</input>
                    <input type="radio" value=3 class="btn btn-secondary">3</input>
                    <input type="radio" value=4 class="btn btn-secondary">4</input>
                    <input type="radio" value=5 class="btn btn-secondary">5</input>
                    <input type="radio" value=6 class="btn btn-secondary">6</input>
                    <input type="radio" value=7 class="btn btn-secondary">7</input>
            </div>
            </div> <!-- q12 end -->

            <!-- q13 -->
            <div class="questions" id="q13">How important is it that you have access to financial aid?
                    <!-- q13buttons -->
            <div class="btn-group mr-2" role="group" aria-label="First group">
                    <input type="radio" value=1 class="btn btn-secondary">1</input>
                    <input type="radio" value=2 class="btn btn-secondary">2</input>
            </div> <!-- q13 end -->       
        
        </div><!-- money end -->
    
    </div> <!-- main container end-->
    
    <!-- footer -->
    <footer>This is a footer</footer>
    <script>
  
        var school = "atlanta";
       


        var queryURL = `https://api.data.gov/ed/collegescorecard/v1/schools/nearest.json?api_key=HNg7UV31G0EyV08Fh2zkZBi1WNM1XffC3ttbfbw5&school.city=${school}&_per_page=100`;



    var filteredSchools = [];
    function getResults() {
    //From Jack: get all the form input from our quiz
    var subjectMath = ("#math").val();
    var subjectScience = ("#science").val();
    var subjectSStudies = ("#sStudies").val();
    var subjectLiberalArts = ("#lArts").val();
    var mensSchool = $("#allMaleBtn").val(); //From Jack: the jquery won't look exactly like this but this should evaluate to T/F
    var femaleSchool = $("#allFemaleBtn").val();
    var coedSchool = $("#coEdBtn").val();
    var religiousYes = $("#q3YesBtn").val();
    var religiousNo = $("#q3NoBtnBtn").val();
    var aveAgeYes = $("#q4YesBtn").val();
    var aveAgeNo = $("#q4NoBtnBtn").val();
    var retentionRatesYes = $("#q5YesBtn").val();
    var retentionRatesNo = $("#q5NoBtnBtn").val();
    var averageCostYes = $("#q6YesBtn").val();
    var averageCostNo = $("#q6NoBtnBtn").val();
    //need to work on question 7 buttons/id's
    var aidYes = $("#q8YesBtn").val();
    var aidNo = $("#q8NoBtnBtn").val();


    $.ajax({
      url: queryURL,
      method: "GET",
      meta: {
        page: 1
      }
    }).then((response)=>{
        console.log(response);
        response.results.forEach(function(schoolObject) {
          var school = schoolObject["2017"];
          var schoolIsValid = true;
          
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//need correct name to be pulled from data dictionary
          if (subjectMath === true ) {
            if (school.men_only === 0 ) {
              schoolIsValid = false;
            }
          }
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//need correct name to be pulled from data dictionary
          if (subjectScience === true ) {
            if (school.men_only === 0 ) {
              schoolIsValid = false;
            }
          }
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//need correct name to be pulled from data dictionary
          if (subjectSStudies === true ) {
            if (school.men_only === 0 ) {
              schoolIsValid = false;
            }
          }
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//need correct name to be pulled from data dictionary
          if (subjectLiberalArts === true ) {
            if (school.men_only === 0 ) {
              schoolIsValid = false;
            }
          }

          if (mensSchool === true ) {
            if (school.men_only === 0 ) {
              schoolIsValid = false;
            }
          }

          if (femaleSchool === true ) {
            if (school.women_only === 0 ) {
              schoolIsValid = false;
            }
          }
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//need correct name to be pulled from data dictionary
          if (coedSchool === true ) {
            if (school.men_only === 0 ) {
              schoolIsValid = false;
            }
          }

          if (religiousYes === true ) {
            if (school.religious_affiliation === 0 ) {
              schoolIsValid = false;
            }
          }
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//need correct name to be pulled from data dictionary
          if (religiousNo === true ) {
            if (school.men_only === 0 ) {
              schoolIsValid = false;
            }
          }
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//not sure if this one is correct
          if (aveAgeYes === true ) {
            if (student.demographics.age_entry === 0 ) {
              schoolIsValid = false;
            }
          }
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//need correct name to be pulled from data dictionary
          if (aveAgeNo === true ) {
            if (school.men_only === 0 ) {
              schoolIsValid = false;
            }
          }
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//need correct name to be pulled from data dictionary
          if (retentionRatesYes === true ) {
            if (school.men_only === 0 ) {
              schoolIsValid = false;
            }
          }
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//need correct name to be pulled from data dictionary
          if (retentionRatesNo === true ) {
            if (school.men_only === 0 ) {
              schoolIsValid = false;
            }
          }
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//not sure if this one is correct
          if (averageCostYes === true ) {
            if (cost.program_reporter.program_1.cip_6_digit.full_program === 0 ) {
              schoolIsValid = false;
            }
          }
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//need correct name to be pulled from data dictionary
          if (averageCostNo === true ) {
            if (school.men_only === 0 ) {
              schoolIsValid = false;
            }
          }
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//need correct name to be pulled from data dictionary
          if (aidYes === true ) {
            if (school.men_only === 0 ) {
              schoolIsValid = false;
            }
          }
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//need correct name to be pulled from data dictionary
          if (aidNo === true ) {
            if (school.men_only === 0 ) {
              schoolIsValid = false;
            }
          }

          //^^we need a lot more of these but they will follow the same structure

          


          //after we've done all of our filtering...
          if (schoolIsValid) {
            filteredSchools.push(school);
          }

        })

        //once we have filtered schoools...
        for (var i = 0; i < filteredSchools.length; i++) {
          //create a "repeating element" for each filtered school with jquery
        }
        
    });

    }
    //10// I would like to see my schools URL   x
   // 278 // I would like to see the admission rate x

   //206 //1. Do you want to attend an all mens school? 1
   //208 //2. Do you want to attend an all womens school? 2
   // 192-204 //3. Do you / You prefer to be on campus with predominately black, asian american, hispanic, or native american flags are present? 

   //210 //4. Would you prefer your college to have religous affiliation? 3

   //622-626 //5. Would you like to know your in-state and out-of-state tuition fees? or 2 questions "i will be in-state" or "i will be out of state"   x

  // 1850 //6. You would like to know the average age of entry for your desired school?

  //2153 //7. Knowing how many different programs are offered is important
  //2166 //8. It is important to know how much a programs tuition, fees, books, and supply charges will cost? 
  //"I am looking for tuition to cost less than $somedollaramount per year" or something like that.

  //2178 //9. I would like to see the average number of months needed to complete a program
  //669 or 679 //10. I want to see the first-time (retention or could be completion or both) rate for 4 year institutions

  2178 //9. I would like to see the average number of months needed to complete a program
//   669 or 679 //10. I want to see the first-time (retention or could be completion or both) rate for 4 year institutions


  //what is your maximum tution price? 
  //--12,000


        </script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>
<script>
    var qa1 = "";
    var qa2 = "";
    var qa3 = "";
    var qa4 = "";
    var qa5 = "";
    var qa6 = "";
    var qa7 = "";
    var qa8 = "";
    var qa9 = "";
    var qa10 = "";
    var qa11 = "";
    var qa12 = "";
    var qa13 = "";
    var b1 = false;
    var b2 = false;
    var b3 = false;
    var b4 = false;
    var b5 = false;
    var b6 = false;
    var b7 = false;
    var b8 = false;
    var b9 = false;
    var b10 = false;
    var b11 = false;
    var b12 = false;
    var b13 = false;

    // $("#dropdownMenuButton").on("click", function(event){
    //     qa1 = this.attr("value");
    // });
    $("#q2").on("click", function(event){
        qa2 = this.attr("value");
    });
    $("#q3").on("click", function(event){
        qa3 = this.attr("value");
    });
    $("#q4").on("click", function(event){
        qa4 = this.attr("value");
    });
    $("#q5").on("click", function(event){
        qa5 = this.attr("value");
    });
    $("#q6").on("click", function(event){
        qa6 = this.attr("value");
    });
    $("#q7").on("click", function(event){
        qa7 = this.attr("value");
    });
    $("#q8").on("click", function(event){
        qa8 = this.attr("value");
    });
    $("#q9").on("click", function(event){
        qa9 = this.attr("value");
    });
    $("#q10").on("click", function(event){
        qa10 = this.attr("value");
    });
    $("#q11").on("click", function(event){
        q1a1 = this.attr("value");
    });
    $("#q12").on("click", function(event){
        qa12 = this.attr("value");
    });
    $("#q13").on("click", function(event){
        qa13 = this.attr("value");
    });
    if (qa1>4){
        b1=true;
    }; 
    if (qa2>4){
        b2=true;
    }; 
    if (qa3>4){
        b3=true;
    }; 
    if (qa4>4){
        b4=true;
    }; 
    if (qa5>4){
        b5=true;
    }; 
    if (qa6>4){
        b6=true;
    }; 
    if (qa7>4){
        b7=true;
    }; 
    if (qa8>4){
        b8=true;
    }; 
    if (qa9>4){
        b9=true;
    }; 
    if (qa10>4){
        b10=true;
    };
    if (qa11>4){
        b11=true;
    };
    if (qa12>4){
        b12=true;
    };
    if (qa13>4){
        b13=true;
    };



</script>
     <script
     src="https://code.jquery.com/jquery-3.4.1.min.js"
     integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
     crossorigin="anonymous"></script>
     <script>
         
         var cityn = "atlanta";
         var subject = "mathematics";
          var queryURL = `https://api.data.gov/ed/collegescorecard/v1/schools/nearest.json?api_key=HNg7UV31G0EyV08Fh2zkZBi1WNM1XffC3ttbfbw5&school.city=${cityn}&2017.academics.program.bachelors.${subject}=1`;
 
       
 
     $.ajax({
       url: queryURL,
       method: "GET"
     }).then((response)=>{
         console.log(response.results);
         for (var i = 0; i < response.results.length; i++) {
           //[7].school.name
           var school
           console.log(response.results[i].school.name);
           var Schoolname = response.results[i].school.name;
        //    console.log(response.results[i].school.city);
           var SchoolCSZ = response.results[i].school.city+", "+response.results[i].school.state+" "+response.results[i].school.zip;
        //    console.log(response.results[i].school.state);
           console.log(SchoolCSZ);
        //    var SchoolDebtAvg = response.results[i].latest.aid.cumulative_debt.90th_percentile;
           console.log(SchoolDebtAvg);
         };
 
     });
 
 
 
 
       /*
     var school = "atlanta";
          var queryURL = `https://api.data.gov/Treasury/collegescorecard/v1/schools/nearest.json?api_key=HNg7UV31G0EyV08Fh2zkZBi1WNM1XffC3ttbfbw5&school.city=atlanta`;
         
 
 
     $.ajax({
       url: queryURL,
       method: "GET"
     }).then((response)=>{
         console.log(response);
     });
 */
 
 
         </script>
 
</html>